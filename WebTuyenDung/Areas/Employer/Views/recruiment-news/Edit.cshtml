@using WebTuyenDung.Constants;
@using WebTuyenDung.Enums;
@model WebTuyenDung.Models.RecruimentNews

@{
    ViewBag.Title = "Cập nhật tin tuyển dụng";
    ViewBag.PrevPage = "Tin tuyển dụng";
    ViewBag.CurrentPage = "Đăng tin mới";
}

@section css_Main {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
}

@section scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
    <script src="~/Assets/Plugins/ckeditor/ckeditor.js"></script>
    <script src="~/Assets/Shared/locale-select.js"></script>
    <script src="~/Assets/Employer/js/update-recruiment-news.js"></script>

    <script>
        CKEDITOR.replace("txtMoTa");
        CKEDITOR.replace("txtYeuCau");
        CKEDITOR.replace("txtKyNang");
        CKEDITOR.replace("txtQuyenLoi");

        $(document).ready(() => {
            $('.date').datepicker({
                format: 'dd/mm/yyyy',
                startDate: moment().add(1, 'days').format('dd/MM/yyyy'),
                clearBtn: true
            })
        })
    </script>
}

<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <div class="card-header py-2">
                    <h4 class="header-title mb-0">Đăng tin tuyển dụng</h4>
                </div>
                <div class="collapse pt-3 show">
                    <form action="/employer/recruiment-news/edit/@Model.Id" method="post" id="edit-recruiment-news-form">
                        @Html.AntiForgeryToken()
                        <div class="form-horizontal">
                            <div class="form-group align-items-center row">
                                <label class="control-label col-md-2" for="jobTitle">
                                    Tên công việc
                                </label>
                                <div class="col-md-4">
                                    <input class="form-control" cols="20" id="jobTitle"
                                           name="jobName" rows="2" value="@Model.JobName" />
                                    <span class="text-danger" style="display: none"></span>
                                </div>

                                <label class="control-label col-md-2" for="jobType">
                                    Hình thức làm việc
                                </label>
                                <div class="col-md-4">
                                    <select class="form-control text-box single-line selectpicker"
                                            data-live-search="true" data-val="true"
                                            data-val-required="Chưa chọn hình thức làm việc" id="jobType"
                                            name="jobType">
                                        <option value="">
                                            -- Chọn hình thức làm việc --
                                        </option>
                                        @if (Model.JobType == JobType.PartTime)
                                        {
                                            <option value="0" selected>Parttime - Bán thời gian</option>
                                        }
                                        else
                                        {
                                            <option value="0">Parttime - Bán thời gian</option>
                                        }
                                        @if (Model.JobType == JobType.FullTime)
                                        {
                                            <option value="1" selected>Fulltime - Toàn thời gian</option>
                                        }
                                        else
                                        {
                                            <option value="1">Fulltime - Toàn thời gian</option>
                                        }
                                        @if (Model.JobType == JobType.Remote)
                                        {
                                            <option value="2" selected>Remote - Làm việc từ xa</option>
                                        }
                                        else
                                        {
                                            <option value="2">Remote - Làm việc từ xa</option>
                                        }
                                    </select>
                                    <span class="text-danger" style="display: none"></span>
                                </div>
                            </div>

                            <div class="form-group align-items-center row">
                                <label class="control-label col-md-2" for="position">Vị trí</label>
                                <div class="col-md-4">
                                    <select class="form-control text-box single-line selectpicker"
                                            data-live-search="true" data-val="true"
                                            data-val-required="Chưa chọn cấp bậc" id="position"
                                            name="position">
                                        <option value="">-- Chọn vị trí cần tuyển --</option>
                                        @if (Model.Position == JobPosition.BA)
                                        {
                                            <option value="0" selected>Business Analyst</option>
                                        }
                                        else
                                        {
                                            <option value="0">Business Analyst</option>
                                        }
                                        @if (Model.Position == JobPosition.BrSE)
                                        {
                                            <option value="1" selected>Kỹ sư cầu nối</option>
                                        }
                                        else
                                        {
                                            <option value="1">Kỹ sư cầu nối</option>
                                        }
                                        @if (Model.Position == JobPosition.Developer)
                                        {
                                            <option value="2" selected>Lập trình viên</option>
                                        }
                                        else
                                        {
                                            <option value="2">Lập trình viên</option>
                                        }
                                        @if (Model.Position == JobPosition.Tester)
                                        {
                                            <option value="3" selected>Tester</option>
                                        }
                                        else
                                        {
                                            <option value="3">Tester</option>
                                        }
                                        @if (Model.Position == JobPosition.QC)
                                        {
                                            <option value="4" selected>Quality Control</option>
                                        }
                                        else
                                        {
                                            <option value="4">Quality Control</option>
                                        }
                                        @if (Model.Position == JobPosition.QA)
                                        {
                                            <option value="5" selected>Quality Assurance</option>
                                        }
                                        else
                                        {
                                            <option value="5">Quality Assurance</option>
                                        }
                                        @if (Model.Position == JobPosition.PM)
                                        {
                                            <option value="6" selected>Quản lý dự án phần mềm</option>
                                        }
                                        else
                                        {
                                            <option value="6">Quản lý dự án phần mềm</option>
                                        }
                                        @if (Model.Position == JobPosition.ITSupport)
                                        {
                                            <option value="7" selected>IT Support</option>
                                        }
                                        else
                                        {
                                            <option value="7">IT Support</option>
                                        }
                                        @if (Model.Position == JobPosition.Designer)
                                        {
                                            <option value="8" selected>Designer</option>
                                        }
                                        else
                                        {
                                            <option value="8">Designer</option>
                                        }
                                    </select>
                                    <span class="text-danger" style="display: none"></span>
                                </div>

                                <label class="control-label col-md-2" for="positionDetail">
                                    Chi tiết vị trí
                                </label>
                                <div class="col-md-4">
                                    <select class="form-control text-box single-line selectpicker"
                                            data-live-search="true" data-val="true" id="positionDetail"
                                            name="positionDetail">
                                        <option value="">-- Chọn chi tiết vị trí --</option>
                                        @if (Model.PositionDetail == "back-end")
                                        {
                                            <option value="back-end" selected>Backend</option>
                                        }
                                        else
                                        {
                                            <option value="back-end">Backend</option>
                                        }
                                        @if (Model.PositionDetail == "C/C++")
                                        {
                                            <option value="C/C++" selected>C/C++</option>
                                        }
                                        else
                                        {
                                            <option value="C/C++">C/C++</option>
                                        }
                                        @if (Model.PositionDetail == "C-Sharp")
                                        {
                                            <option value="C-Sharp" selected>C-Sharp</option>
                                        }
                                        else
                                        {
                                            <option value="C-Sharp">C-Sharp</option>
                                        }
                                        @if (Model.PositionDetail == "front-end")
                                        {
                                            <option value="front-end" selected>Frontend</option>
                                        }
                                        else
                                        {
                                            <option value="front-end">Frontend</option>
                                        }
                                        @if (Model.PositionDetail == "full-stack")
                                        {
                                            <option value="full-stack" selected>Fullstack</option>
                                        }
                                        else
                                        {
                                            <option value="full-stack">Fullstack</option>
                                        }
                                        @if (Model.PositionDetail == "Golang")
                                        {
                                            <option value="Golang" selected>GoLang</option>
                                        }
                                        else
                                        {
                                            <option value="Golang">GoLang</option>
                                        }
                                        @if (Model.PositionDetail == "iOS")
                                        {
                                            <option value="iOS" selected>iOS</option>
                                        }
                                        else
                                        {
                                            <option value="iOS">iOS</option>
                                        }
                                        @if (Model.PositionDetail == "Android")
                                        {
                                            <option value="Android" selected>Android</option>
                                        }
                                        else
                                        {
                                            <option value="Android">Android</option>
                                        }
                                        @if (Model.PositionDetail == "Java")
                                        {
                                            <option value="Java" selected>Java</option>
                                        }
                                        else
                                        {
                                            <option value="Java">Java</option>
                                        }
                                        @if (Model.PositionDetail == "JavaScript")
                                        {
                                            <option value="JavaScript" selected>JavaScript</option>
                                        }
                                        else
                                        {
                                            <option value="JavaScript">JavaScript</option>
                                        }
                                        @if (Model.PositionDetail == "mobile-apps")
                                        {
                                            <option value="mobile-apps" selected>Mobile Apps</option>
                                        }
                                        else
                                        {
                                            <option value="mobile-apps">Mobile Apps</option>
                                        }
                                        @if (Model.PositionDetail == "dotnet")
                                        {
                                            <option value="dotnet" selected>.NET</option>
                                        }
                                        else
                                        {
                                            <option value="dotnet">.NET</option>
                                        }
                                        @if (Model.PositionDetail == "PHP")
                                        {
                                            <option value="PHP" selected>PHP</option>
                                        }
                                        else
                                        {
                                            <option value="PHP">PHP</option>
                                        }
                                        @if (Model.PositionDetail == "Python")
                                        {
                                            <option value="Python" selected>Python</option>
                                        }
                                        else
                                        {
                                            <option value="Python">Python</option>
                                        }
                                        @if (Model.PositionDetail == "React")
                                        {
                                            <option value="React" selected>ReactJS</option>
                                        }
                                        else
                                        {
                                            <option value="React">ReactJS</option>
                                        }
                                        @if (Model.PositionDetail == "AngularJS")
                                        {
                                            <option value="AngularJS" selected>AngularJS</option>
                                        }
                                        else
                                        {
                                            <option value="AngularJS">AngularJS</option>
                                        }
                                        @if (Model.PositionDetail == "Angular")
                                        {
                                            <option value="Angular" selected>Angular</option>
                                        }
                                        else
                                        {
                                            <option value="Angular">Angular</option>
                                        }
                                        @if (Model.PositionDetail == "Vue")
                                        {
                                            <option value="Vue" selected>Vue</option>
                                        }
                                        else
                                        {
                                            <option value="Vue">Vue</option>
                                        }
                                        @if (Model.PositionDetail == "Ruby")
                                        {
                                            <option value="Ruby" selected>Ruby</option>
                                        }
                                        else
                                        {
                                            <option value="Ruby">Ruby</option>
                                        }
                                    </select>
                                    <span class="text-danger" style="display: none"></span>
                                </div>
                            </div>

                            <!-- Gioi tinh -->
                            <div class="form-group align-items-center row">
                                <label class="control-label col-md-2" for="gender">
                                    Giới tính
                                </label>
                                <div class="col-md-4">
                                    <div class="form-check-inline">
                                        <label class="form-check-label">
                                            @if (Model.EmployeeGender == null)
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" checked />
                                            }
                                            else
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" />
                                            }
                                            không yêu cầu
                                        </label>
                                    </div>
                                    <div class="form-check-inline">
                                        <label class="form-check-label">
                                            @if (Model.EmployeeGender == Gender.Male)
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" checked />
                                            }
                                            else
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" />
                                            }
                                            Nam
                                        </label>
                                    </div>
                                    <div class="form-check-inline">
                                        <label class="form-check-label">
                                            @if (Model.EmployeeGender == Gender.Female)
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" checked />
                                            }
                                            else
                                            {
                                                <input type="radio" class="form-check-input"
                                                       name="gender" />
                                            }
                                            Nữ
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group align-items-center row">
                                <!-- Muc luong -->
                                <label class="control-label col-md-2" for="salary">
                                    Mức lương
                                </label>
                                <div class="col-md-10">
                                    <div class="row">
                                        <div class="col-md-2">
                                            <div class="form-check-inline">
                                                <label class="form-check-label">
                                                    @if (Model.Salary == "Dưới 3 triệu")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Dưới 3 triệu" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Dưới 3 triệu" />
                                                    }
                                                    Dưới 3 triệu
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-check-inline">
                                                <label class="form-check-label">
                                                    @if (Model.Salary == "3 - 5 triệu")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="3 - 5 triệu" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="3 - 5 triệu" />
                                                    }
                                                    3-5 triệu
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-check-inline">
                                                <label class="form-check-label">
                                                    @if (Model.Salary == "5 - 7 triệu")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="5 - 7 triệu" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="5 - 7 triệu" />
                                                    }
                                                    5 - 7 triệu
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-check-inline">
                                                <label class="form-check-label">
                                                    @if (Model.Salary == "7 - 10 triệu")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="7 - 10 triệu" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="7 - 10 triệu" />
                                                    }
                                                    7 - 10 triệu
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-check-inline">
                                                <label class="form-check-label">
                                                    @if (Model.Salary == "Trên 10 triệu")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Trên 10 triệu" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Trên 10 triệu" />
                                                    }
                                                    Trên 10 triệu
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group align-items-center row">
                                <!-- Muc luong -->
                                <label class="control-label col-md-2" for="salary"></label>
                                <div class="col-md-10">
                                    <div class="row">
                                        <div class="col-md-2 my-auto">
                                            <div class="form-check-inline">
                                                <label class=" form-check-label">
                                                    @if (Model.Salary == "Thoả thuận")
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Thoả thuận" checked />
                                                    }
                                                    else
                                                    {
                                                        <input type="radio" class="form-check-input"
                                                               name="salary" value="Thoả thuận" />
                                                    }
                                                    Thoả thuận
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="row">
                                                <div class="form-check-inline">
                                                    <div class="col-md-2 my-auto">
                                                        <label class="form-check-label">
                                                            @if (Model.Salary == "Khác")
                                                            {
                                                                <input type="radio" class="form-check-input"
                                                                        name="salary" value="Khác" checked />
                                                            }
                                                            else
                                                            {
                                                                <input type="radio" class="form-check-input"
                                                                        name="salary" value="Khác" />
                                                            }
                                                            Khác
                                                        </label>
                                                    </div>
                                                    <div class="col-md-8">
                                                        @if (Model.Salary == "Khác")
                                                        {
                                                            <input type="text" class="form-control"
                                                                    placeholder="Từ" id="salary-from" value="@Model.MinimumSalary">
                                                        }
                                                        else
                                                        {
                                                            <input type="text" class="form-control"
                                                                   placeholder="Từ" disabled id="salary-from">
                                                        }
                                                    </div>
                                                    <div class="col-md-8">
                                                        @if (Model.Salary == "Khác")
                                                        {
                                                            <input type="text" class="form-control"
                                                                placeholder="Đến" id="salary-to" value="@Model.MaximumSalary">
                                                        }
                                                        else
                                                        {
                                                            <input type="text" class="form-control"
                                                                   placeholder="Đến" disabled id="salary-to">
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="workingAddress">
                                Địa chỉ làm việc
                            </label>
                            <div class="col-md-4">
                                <input class="form-control" cols="20" id="workingAddress"
                                       name="workingAddress" rows="2" value="@Model.WorkingAddress[..@Model.WorkingAddress.IndexOf(',')]" />
                                <span class="text-danger" style="display: none"></span>
                            </div>
                            <div class="col-md-2">
                                <select class="form-control text-box single-line selectpicker"
                                        data-live-search="true" data-val="true" id="input-city"
                                        name="cityId" data-selected="@Model.CityId">
                                </select>
                                <span class="text-danger"></span>
                            </div>
                            <div class="col-md-2">
                                <select class="form-control text-box single-line selectpicker"
                                        data-live-search="true" data-val="true" id="input-district"
                                        disabled name="districtId" data-selected="@Model.DistrictId">
                                </select>
                                <span class="text-danger"></span>
                            </div>
                            <div class="col-md-2">
                                <select class="form-control text-box single-line selectpicker"
                                        data-live-search="true" data-val="true" id="input-ward"
                                        disabled name="wardId" data-selected="@Model.WardId">
                                </select>
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="jobDescription">
                                Mô tả công việc
                            </label>
                            <div class="col-md-10">
                                <textarea class="form-control" cols="20" data-val="true"
                                          data-val-required="Chưa nhập mô tả công việc" id="txtMoTa"
                                          name="jobDescription" rows="2">@Model.JobDescription</textarea>
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="jobRequirements">
                                Yêu cầu ứng viên
                            </label>
                            <div class="col-md-10">
                                <textarea class="form-control" cols="20" data-val="true" id="txtYeuCau"
                                          name="jobRequirements" rows="2">@Model.JobRequirements</textarea>
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="relativeSkills">
                                Kỹ năng liên quan
                            </label>
                            <div class="col-md-10">
                                <textarea class="form-control" cols="20" id="txtKyNang"
                                          name="relativeSkills" rows="2">@Model.RelativeSkills</textarea>
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="benefit">
                                Quyền lợi
                            </label>
                            <div class="col-md-10">
                                <textarea class="form-control" cols="20" id="txtQuyenLoi"
                                          name="benefit" rows="2">@Model.Benefit</textarea>
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="numberOfCandidates">
                                Số lượng tuyển
                            </label>
                            <div class="col-md-6">
                                <input class="form-control" data-val="true"
                                       id="numberOfCandidates" name="numberOfCandidates" type="number" value="@Model.NumberOfCandidates" />
                                <span class="text-danger"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row">
                            <label class="control-label col-md-2" for="deadline">Hạn nộp</label>
                            <div class="col-md-6">
                                @if (Model.Deadline.HasValue)
                                {
                                    <input class="form-control date" id="deadline" name="deadline"
                                       type="text" value="@Model.Deadline.Value.ToString(DateTimeFormatConstants.DATE_ONLY_FORMAT)" />
                                }
                                else
                                {
                                    <input class="form-control date" id="deadline" name="deadline" type="text" />
                                }
                                <span class="text-danger" style="display: none"></span>
                            </div>
                        </div>

                        <div class="form-group align-items-center row mt-3">
                            <div class="col-md-2">
                                <a class="btn btn-light" href="/employer/recruiment-news">
                                    Trở về
                                </a>
                            </div>

                            <div class="col-md-6">
                                <input type="submit" value="Lưu" class="btn btn-primary" />
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>